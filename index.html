<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <style>
      .calc-btn {
        width: 75px;
        height: 75px;
        border-radius: 50% !important; /* Makes them perfectly round */
        border: none;
        color: white;
        font-size: 1.5rem;
        /* Flexbox to center content perfectly */
        display: inline-flex;
        justify-content: center;
        align-items: center;
        transition: background-color 0.2s;
      }

      /* Operator buttons */
      .opp {
        background-color: rgb(255, 115, 0);
      }
      .opp:hover {
        background-color: rgb(234, 119, 52);
      }

      /* Number buttons */
      .num {
        background-color: rgb(75, 74, 73);
      }
      .num:hover {
        background-color: rgb(118, 114, 108);
      }

      /* Top row symbol buttons */
      .symb {
        background-color: rgb(222, 216, 210);
        color: black;
      }
      .symb:hover {
        background-color: rgb(171, 162, 151);
      }

      #display {
        height: 80px;
        border-bottom: 1px solid #ddd;
        text-align: right;
        font-size: 3rem;
        padding-right: 20px;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .calculator {
        max-width: 380px;
        background-color: #f8f9fa;
        border-radius: 20px;
        padding: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="container mt-5 d-flex justify-content-center">
      <div class="calculator">
        <div id="display" class="mb-3"></div>

        <!-- Each row of buttons is wrapped in a .row with gutters -->
        <div class="row g-2 mb-2">
          <div class="col-3">
            <button id="clear" class="calc-btn symb">C</button>
          </div>
          <div class="col-3">
            <button id="back" class="calc-btn symb">←</button>
          </div>
          <div class="col-3">
            <button id="%" class="calc-btn symb">%</button>
          </div>
          <div class="col-3">
            <button id="/" class="calc-btn opp">÷</button>
          </div>
        </div>

        <div class="row g-2 mb-2">
          <div class="col-3">
            <button id="7" class="calc-btn num">7</button>
          </div>
          <div class="col-3">
            <button id="8" class="calc-btn num">8</button>
          </div>
          <div class="col-3">
            <button id="9" class="calc-btn num">9</button>
          </div>
          <div class="col-3">
            <button id="*" class="calc-btn opp">×</button>
          </div>
        </div>

        <div class="row g-2 mb-2">
          <div class="col-3">
            <button id="4" class="calc-btn num">4</button>
          </div>
          <div class="col-3">
            <button id="5" class="calc-btn num">5</button>
          </div>
          <div class="col-3">
            <button id="6" class="calc-btn num">6</button>
          </div>
          <div class="col-3">
            <button id="-" class="calc-btn opp">-</button>
          </div>
        </div>

        <div class="row g-2 mb-2">
          <div class="col-3">
            <button id="1" class="calc-btn num">1</button>
          </div>
          <div class="col-3">
            <button id="2" class="calc-btn num">2</button>
          </div>
          <div class="col-3">
            <button id="3" class="calc-btn num">3</button>
          </div>
          <div class="col-3">
            <button id="+" class="calc-btn opp">+</button>
          </div>
        </div>

        <div class="row g-2">
          <!-- The '0' button spans 2 columns (col-6) -->
          <div class="col-6">
            <button
              id="0"
              class="calc-btn num"
              style="width: 100%; border-radius: 40px !important"
            >
              0
            </button>
          </div>
          <div class="col-3">
            <button id="." class="calc-btn num">.</button>
          </div>
          <div class="col-3">
            <button id="equal" class="calc-btn opp">=</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const display = document.getElementById("display");
      const buttons = document.querySelectorAll("button");

      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const buttonId = btn.id;

          if (buttonId === "clear") {
            display.innerText = "";
          } else if (buttonId === "back") {
            display.innerText = display.innerText.slice(0, -1);
          } else if (buttonId === "equal") {
            try {
              // Replace '×' and '÷' with '*' and '/' before evaluating
              let expression = display.innerText
                .replace(/×/g, "*")
                .replace(/÷/g, "/");
              display.innerText = eval(expression);
            } catch {
              display.innerText = "Error";
            }
          } else {
            display.innerText += btn.innerText;
          }
        });
      });
    </script>
  </body>
</html>
